# Anypoint MQ Queue Terraform Module

Terraform module to create a queue in MuleSoft Anypoint MQ.

## Usage

```hcl
module "amq" {
  source  = "riccardoprosdocimi/mq-queue/anypoint"
  version = "~> 0.0.0"

  root_org = var.root_org
  env_id = var.env_id
  id = "ecom-orders"
  region_id = "eu-central-1"
}
```

## Requirements

| Name      | Version |
| --------- | ------- |
| terraform | >= 1.3.0  |
| anypoint  | ~> 1.8.2 |

## Providers

| Name     | Version |
| -------- | ------- |
| anypoint | ~> 1.8.2  |

## Inputs

| Name        | Description | Type   | Default | Required |
| ----------- | ----------- | ------ | ------- | -------- |
| root_org | The organization ID where the Anypoint MQ is defined | `string` | `n/a` | yes |
| env_id | The environment ID where the Anypoint MQ is defined | `string` | `n/a` | yes |
| fifo | Whether to make this queue a FIFO | `bool` | `false` | no |
| id | The unique ID of this Anypoint MQ | `string` | `n/a` | yes |
| message_ttl | The default TTL applied to messages in milliseconds | `number` | `604800000` | no |
| default_ack_timeout | The default time to live of the created locks in milliseconds | `number` | `120000` | no |
| default_delivery_delay | The default delivery delay in seconds | `number` | `null` | no |
| dlq_id | The queue ID of the dead letter queue to bind to this queue. A FIFO DLQ only works with FIFO queues | `string` | `""` | no |
| dlq_reroute_attempts | The maximum number of attempts after which the message will be routed to DLQ. This field can only be used when dead_letter_queue_id attribute is present | `number` | `null` | no |
| region_id | The region ID where the Anypoint MQ is defined. Refer to Anypoint Platform official documentation for the list of available regions | `string` | `n/a` | yes |

## Outputs

| Name | Description |
| ---- | ----------- |
| id | The unique ID of this Anypoint MQ generated by the provider composed of {orgId}/{envId}/{regionId}/{queueId} |

